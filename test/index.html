<style>
  html {
    background: #171717;
  }
</style>
<script type='module'>
  import bro from './brotest/brotest.js';

  import {Cursel} from '../src/cursel.js';

  bro.test('test adjust on a precedent cursor', ()=>{
    const a = Cursel.cursor(1, 4);
    a.adjust2(2, 3, 1, 6);
    bro.expect(a).toMatchObject({l: 1, c:4, tl: null, tc: null})
  });

  bro.test('test adjust just after', ()=>{
    const a = Cursel.cursor(1, 4);
    a.adjust2(1, 3, 1, 6);
    bro.expect(a).toMatchObject({l: 1, c:7, tl: null, tc: null})
  });

  bro.test('test adjust method in a scenario', ()=>{
    const a = Cursel.cursor(1, 4);
    const b = Cursel.cursor(2, 5);
    const c = Cursel.selection(2, 7, 3, 0);
    const d = Cursel.cursor(3, 2);

    const cursels = [a, b, c, d];

    for (const k of cursels) {
        k.adjust2(2, 3, 1, 6);
    }
    bro.expect(a).toMatchObject({l: 1, c:4, tl: null, tc: null});
    bro.expect(b).toMatchObject({l: 1, c:8, tl: null, tc: null});
    bro.expect(c).toMatchObject({l: 1, c:10, tl: 2, tc: 0});
    bro.expect(d).toMatchObject({l: 2, c:2, tl: null, tc: null});
  });

  bro.run();
</script>